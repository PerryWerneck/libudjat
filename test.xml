<?xml version="1.0" encoding="UTF-8" ?>

<!-- config src='http://localhost/~perry/libudjat.xml' update-timer='600' -->
<config>

	<module name='information' required='no' />
	<!-- module name='http' required='no' / -->

	<module name='civetweb' required='no' />

	<attribute name='default-url' value='http://localhost' />
	
	<alert name='startup' url='${default-url}/hello' />	
	
	<agent name='intvalue' type='integer' value='0'>

		<attribute name='summary' value='Summary of agent ${name}' />
		
		<agent name='subkey' type='integer' value='0' />
		<agent name='text' type='string' value='test-value' />

		<state name='sample' value='0' summary='The intvalue is 0' level='ready' />

	</agent>

	<random name='random600' update-timer='600' update-signal='sigusr2'>

		<state name='s0' value='0' summary='Random 0'>
			<alert name='r0.0' url='${default-url}' action='post' strip-payload='yes'>
				{"timestamp":"${timestamp(%Y/%m/%d %H:%M:%S)}"}
			</alert>
		</state>
		
		<state name='s1' value='1' summary='Random 1' alert-type='alert' url='${default-url}' action='post' strip-payload='yes'>
			{"timestamp":"${timestamp(%Y/%m/%d %H:%M:%S)}"}
		</state>

		<state name='s2' value='2' summary='Random 2' alert-type='default' url='${default-url}' action='post' strip-payload='yes'>
			{"timestamp":"${timestamp(%Y/%m/%d %H:%M:%S)}"}
		</state>

		<state name='s3' value='3' summary='Random 3' alert-type='default' url='${default-url}' action='post' strip-payload='yes'>
			{"timestamp":"${timestamp(%Y/%m/%d %H:%M:%S)}"}
		</state>

		<state name='s4' value='4' summary='Random 4' alert-type='default' url='${default-url}' action='post' strip-payload='yes'>
			{"timestamp":"${timestamp(%Y/%m/%d %H:%M:%S)}"}
		</state>

		<state name='s5' value='5' summary='Random 5' alert-type='default' url='${default-url}' action='post' strip-payload='yes'>
			{"timestamp":"${timestamp(%Y/%m/%d %H:%M:%S)}"}
		</state>
		
	</random>
	
	<random name='random10' update-timer='10'>

		<attribute name='default-url' value='http://localhost' />

		<state name='s0' value='0' summary='Random 0' alert-type='default' url='${default-url}'>
		</state>

		<state name='s1' value='1' summary='Random 1' alert-type='default' url='${default-url}'>
		</state>

		<state name='s2' value='2' summary='Random 2' alert-type='default' url='${default-url}'>
		</state>

		<state name='s3' value='3' summary='Random 3' alert-type='default' url='${default-url}'>
		</state>
		
		<state name='s4' value='4' summary='Random 4' alert-type='default' url='${default-url}'>
		</state>
		
		<state name='s5' value='5' summary='Random 5' alert-type='default' url='${default-url}'>
		</state>

	</random>
	
</config>
